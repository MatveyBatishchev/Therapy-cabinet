databaseChangeLog:
  - changeSet:
      id: add-cascade-prescription-therapy-medication-fk
      author: MYBatishchev
      comment: "Автоматически удаляет строки из prescription при удалении therapy или medication"
      changes:
        - dropForeignKeyConstraint:
            baseTableName: prescription
            constraintName: fk_prescription_therapy_id
        - addForeignKeyConstraint:
            baseTableName: prescription
            baseColumnNames: therapy_id
            constraintName: fk_prescription_therapy_id
            onDelete: CASCADE
            referencedTableName: therapy
            referencedColumnNames: id
        - dropForeignKeyConstraint:
            baseTableName: prescription
            constraintName: fk_prescription_medication_id
        - addForeignKeyConstraint:
            baseTableName: prescription
            baseColumnNames: medication_id
            constraintName: fk_prescription_medication_id
            onDelete: CASCADE
            referencedTableName: medication
            referencedColumnNames: id